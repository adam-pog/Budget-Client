{"ast":null,"code":"var _jsxFileName = \"/home/npzd/devspace/crate/crate-client/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport { Route, Router, Switch, Redirect } from 'react-router-dom';\nimport Login from './Login.js';\nimport Signup from './Signup.js';\nimport { Fetch } from './FetchHelper.js';\nimport { connect } from \"react-redux\";\nimport history from './config/history';\nimport { setAuthenticated } from \"./actions/index\";\nimport Menu from './Menu.js';\nimport Budget from './budget/Budget.js';\nimport NewBudgetCategory from './budget/NewBudgetCategory.js';\nimport NewTransaction from './budget/NewTransaction.js';\nimport BudgetCategory from './budget/BudgetCategory.js';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst mapStateToProps = state => {\n  return {\n    authenticated: state.authenticated,\n    name: state.name\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setAuthenticated: authenticated => dispatch(setAuthenticated(authenticated))\n  };\n};\n\nconst PrivateRoute = ({\n  component: Component,\n  authenticated,\n  ...rest\n}) => /*#__PURE__*/_jsxDEV(Route, { ...rest,\n  render: props => authenticated ? /*#__PURE__*/_jsxDEV(Component, { ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n    to: \"/\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 31,\n  columnNumber: 3\n}, this);\n\n_c = PrivateRoute;\n\nclass App extends React.Component {\n  logout() {\n    Fetch('logout', 'post').then(([status, _response]) => {\n      if (status === 200) {\n        console.log('logged out');\n        this.props.setAuthenticated({\n          authenticated: false,\n          name: ''\n        });\n      } else {\n        console.log('uh oh');\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      id: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"stylesheet\",\n        href: \"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"stylesheet\",\n        href: \"https://fonts.googleapis.com/icon?family=Material+Icons\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Router, {\n        history: history,\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          children: /*#__PURE__*/_jsxDEV(Menu, {\n            authenticated: this.props.authenticated,\n            logout: () => this.logout()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          className: \"Main\",\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/\",\n              children: [!this.props.authenticated && /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 17\n              }, this), this.props.authenticated && /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                justify: \"center\",\n                alignItems: \"center\",\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  component: \"h1\",\n                  variant: \"h1\",\n                  color: \"textPrimary\",\n                  children: [this.props.authenticated && `Welcome, ${this.props.name}!`, !this.props.authenticated && \"Hello\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this), !this.props.authenticated && /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/signup\",\n              children: /*#__PURE__*/_jsxDEV(Signup, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n              path: \"/budget\",\n              component: Budget,\n              authenticated: this.props.authenticated\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n              path: \"/new_budget\",\n              component: NewBudgetCategory,\n              authenticated: this.props.authenticated\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n              path: \"/budget_categories/:id/new_transaction\",\n              component: NewTransaction,\n              authenticated: this.props.authenticated\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n              path: \"/budget_categories/:id\",\n              component: BudgetCategory,\n              authenticated: this.props.authenticated\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              children: /*#__PURE__*/_jsxDEV(Redirect, {\n                to: \"/\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n\nvar _c;\n\n$RefreshReg$(_c, \"PrivateRoute\");","map":{"version":3,"sources":["/home/npzd/devspace/crate/crate-client/src/App.js"],"names":["React","Route","Router","Switch","Redirect","Login","Signup","Fetch","connect","history","setAuthenticated","Menu","Budget","NewBudgetCategory","NewTransaction","BudgetCategory","Grid","Typography","mapStateToProps","state","authenticated","name","mapDispatchToProps","dispatch","PrivateRoute","component","Component","rest","props","App","logout","then","status","_response","console","log","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport { Route, Router, Switch, Redirect } from 'react-router-dom'\nimport Login from './Login.js'\nimport Signup from './Signup.js'\nimport { Fetch } from './FetchHelper.js'\nimport { connect } from \"react-redux\";\nimport history from './config/history';\nimport { setAuthenticated } from \"./actions/index\";\nimport Menu from './Menu.js'\nimport Budget from './budget/Budget.js'\nimport NewBudgetCategory from './budget/NewBudgetCategory.js'\nimport NewTransaction from './budget/NewTransaction.js'\nimport BudgetCategory from './budget/BudgetCategory.js'\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n\nconst mapStateToProps = state => {\n  return { authenticated: state.authenticated, name: state.name };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setAuthenticated: authenticated => (\n      dispatch(setAuthenticated(authenticated))\n    )\n  };\n}\n\nconst PrivateRoute = ({ component: Component, authenticated, ...rest }) => (\n  <Route {...rest} render={(props) => (\n    authenticated\n      ? <Component {...props} />\n      : <Redirect to='/' />\n  )} />\n)\n\nclass App extends React.Component {\n  logout() {\n    Fetch('logout', 'post')\n    .then(([status, _response]) => {\n      if(status === 200) {\n        console.log('logged out')\n        this.props.setAuthenticated({authenticated: false, name: ''})\n      } else {\n        console.log('uh oh')\n      }\n    })\n  }\n\n  render() {\n    return (\n      <Grid container id=\"App\">\n        <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap\" />\n        <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" />\n        <Router history={ history }>\n          <header>\n            <Menu authenticated={this.props.authenticated} logout={() => this.logout()} />\n          </header>\n          <Grid container className=\"Main\">\n            <Switch>\n              <Route exact path='/'>\n              { !this.props.authenticated &&\n                <Login />\n              }\n              {\n                this.props.authenticated &&\n                <Grid container justify=\"center\" alignItems=\"center\">\n                  <Typography component=\"h1\" variant=\"h1\" color='textPrimary'>\n                    {\n                      this.props.authenticated &&\n                      `Welcome, ${this.props.name}!`\n                    }\n                    {\n                      !this.props.authenticated &&\n                      \"Hello\"\n                    }\n                  </Typography>\n                </Grid>\n              }\n\n              </Route>\n              { !this.props.authenticated &&\n                  <Route path=\"/signup\">\n                    <Signup />\n                  </Route>\n              }\n              <PrivateRoute\n                path='/budget'\n                component={Budget}\n                authenticated={this.props.authenticated}>\n              </PrivateRoute>\n              <PrivateRoute\n                path='/new_budget'\n                component={NewBudgetCategory}\n                authenticated={this.props.authenticated}>\n              </PrivateRoute>\n              <PrivateRoute\n                path='/budget_categories/:id/new_transaction'\n                component={NewTransaction}\n                authenticated={this.props.authenticated}>\n              </PrivateRoute>\n              <PrivateRoute\n                path='/budget_categories/:id'\n                component={BudgetCategory}\n                authenticated={this.props.authenticated}>\n              </PrivateRoute>\n              <Route>\n                <Redirect to='/' />\n              </Route>\n            </Switch>\n          </Grid>\n        </Router>\n      </Grid>\n    )\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n"]},"metadata":{},"sourceType":"module"}